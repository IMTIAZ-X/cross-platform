name: Cross Platform Build



jobs:
  build-linux:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Install SDL2 and SDL_ttf
        run: sudo apt-get update && sudo apt-get install libsdl2-dev libsdl2-ttf-dev
      - name: Build
        run: gcc main.c -o app `sdl2-config --cflags --libs` -lSDL2_ttf

  build-web:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Setup Emscripten
        uses: mymindstorm/setup-emsdk@v12
      - name: Build to WASM
        run: emcc main.c -o index.html -s USE_SDL=2 -s USE_SDL_TTF=2 --preload-file assets
